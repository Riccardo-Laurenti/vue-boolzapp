<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <title>Vue-Boolzapp</title>
    <!-- Link VUE -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

</head>
<body>

    <div id="app">
        <!-- contatti app -->
        <div class="my_contacts-window mb-3">
            <div class="my_single-person d-flex flex-row justify-content-between px-3 ">
                <div class="mt-3 d-lg-flex flex-row">
                    <div>
                        <img src="./img/avatar_io.jpg" alt="">
                    </div>
                    <div>
                        <p class="ps-2 mb-0 fw-semibold">Nome Utente</p>
                    </div>
                </div>
                
                <nav class="mt-3 d-flex flex-row justify-content-between px-3">
                    <i class="fa-solid fa-circle-notch s-2" style="color: #b1b1b1;"></i>
                    <i class="fa-solid fa-message ps-2" style="color: #b1b1b1;"></i>
                    <i class="fa-solid fa-ellipsis-vertical ps-2" style="color: #b1b1b1;"></i>
                </nav>
            </div>

            <!-- Notifiche -->
            <div class="my_notification d-flex flex-row pt-3">
                <div class="ps-3">
                    <div class="my_bell d-flex flex-row  align-items-center ps-3">
                        <i class="fa-solid fa-bell-slash blue-bell" style="color: #8edafc;"></i>
                    </div>
                </div>

                <div class="my_messaggi-notifche ps-3">
                    <p class="mb-0 fw-semibold"> Ricevi notifiche di nuovi messaggi</p>
                    <p class="fw-lighter"><ins>Attiva notiche desktop</ins></p>
                </div>
            </div>

            <!-- Search -->
            <div class="my_search d-flex flex-row  align-items-center">
                <label for="message-search" class="bg-white"><i class="fa-solid fa-magnifying-glass px-4" style="color: #6b717b;"></i></label>
                <input type="text" id="message-search" class="flex-grow-1 me-3" placeholder="Cerca o inizia una nuova chat" >
            </div>

            <!-- Contatti-->
            <div class="contact-list">
                <div class=" d-flex flex-row justify-content-between pb-2 my_border"  v-for="(contact, index) in contacts" @click="selectConctact(index)" :class="(indice === activeContactIndex) ? 'active' : ''">
                    <article class="contact d-flex flex-row pt-2">
                        <div class="contact-avatar ps-3">
                            <img :src="contact.avatar" :alt="contact.name +'\'s avatar'">
                        </div>
                        <div class="my_messaggi-notifiche ps-3">
                            <p class="mb-0 fw-semibold">
                                {{ contact.name }}
                            </p>
                            <p class="my_h">
                                Ultimo messaggio inviato
                            </p>
                        </div>
                    </article>
                    <p class=" my_h d-flex flex-row justify-content-end pe-2 fw-light">12:00</p>
                </div>
            </div>
        </div>   
        
        


        <!-- chat -->
        <div class="my_chat-dialog-window">
            <div class="my_chat-window">
                <div class="my_personal d-flex flex-row justify-content-lg-between px-3">
                    <div class="mt-3 d-lg-flex flex-row">
                        <div>
                            <img :src="contacts[activeContactIndex].avatar" alt="Michele's profile pic">
                        </div>
                        <div>
                            <p class="ps-2 mb-0 fw-semibold">
                                {{contacts[activeContactIndex].name}}
                            </p>
                            <p class=" ps-2 fw-lighter">Ultimo accesso oggi alle 12:00</p>
                        </div>
                    </div>

                    <nav class="mt-3 d-flex flex-row justify-content-between">
                        <i class="fa-solid fa-circle-notch " style="color: #b1b1b1;"></i>
                        <i class="fa-solid fa-paperclip ps-2" style="color: #b1b1b1;"></i>
                        <i class="fa-solid fa-ellipsis-vertical ps-2" style="color: #b1b1b1;"></i>
                    </nav>
                </div>


                <!-- Messaggio -->
                <div class="messages clearfix">
                    <div v-for="messageObj in contacts[activeContactIndex].messages" class="message" :class="(messageObj.status === 'sent') ? 'message-sent' : 'message-received'">
                        {{ messageObj.message }}
                    </div>
                </div>
            </div>

            <div class="my_dialog-window d-flex flex-row justify-content-between align-items-center px-5">
                <label for="message-search" class="">
                    <i class="fa-regular fa-face-smile px-4" style="color: #6b717b;"></i>
                </label>

                <input type="text" for="message-enter" class="my_input py-3 ps-3" placeholder="Scrivi un messaggio" v-model="newElement" @keyup.enter="addNewMessageElement(newElement)">
                <label for="message-search" class=""><i class="fa-solid fa-microphone px-4" style="color: #6b717b;"></i></label>

            </div>

        </div>
    </div>


    <!-- Script js link-->
    <script src="js/script.js"></script>

</body>
</html>